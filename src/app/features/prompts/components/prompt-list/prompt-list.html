<div class="flex flex-col h-full">
  <!-- Header -->
  <div class="flex items-center justify-between p-4 border-b border-[#2f2f2f]">
    <h2 class="text-lg font-medium text-gray-200">Prompts</h2>
    <button
      nz-button
      nzType="primary"
      nzSize="small"
      (click)="onCreate()"
    >
      <span nz-icon nzType="plus"></span>
      New Prompt
    </button>
  </div>

  <!-- List -->
  <div class="flex-1 overflow-y-auto p-2">
    @if (prompts().length === 0) {
      <div class="flex items-center justify-center h-full">
        <nz-empty
          nzNotFoundContent="No prompts yet"
          class="[&_.ant-empty-description]:text-gray-400!"
        ></nz-empty>
      </div>
    } @else {
      @for (prompt of prompts(); track prompt.id) {
        <div
          class="group relative flex items-center p-3 rounded-lg cursor-pointer hover:bg-[#2f2f2f] mb-1 transition-colors"
          [class.bg-[#2f2f2f]]="selectedPromptId() === prompt.id"
          (click)="onSelectPrompt(prompt.id)"
        >
          <div class="flex-1 min-w-0">
            <div class="text-sm font-medium text-gray-200 truncate">
              {{ prompt.name }}
            </div>
            <div class="text-xs text-gray-500 truncate mt-0.5">
              {{ prompt.messages.length }} messages
            </div>
          </div>
          <div class="flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity">
            <button
              nz-button
              nzType="text"
              nzSize="small"
              class="text-gray-400! hover:text-gray-200! hover:bg-[#404040]!"
              (click)="onEdit(prompt.id, $event)"
            >
              <span nz-icon nzType="edit"></span>
            </button>
            <button
              nz-button
              nzType="text"
              nzSize="small"
              class="text-red-400! hover:text-red-300! hover:bg-[#404040]!"
              (click)="onDelete(prompt.id, $event)"
            >
              <span nz-icon nzType="delete"></span>
            </button>
          </div>
        </div>
      }
    }
  </div>
</div>
