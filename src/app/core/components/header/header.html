<div class="flex items-center justify-between h-full px-4 bg-[#212121]">
  <!-- Left: Toggle + Model selector -->
  <div class="flex items-center gap-2">
    @if (layoutService.sidebarCollapsed()) {
      <button
        nz-button
        nzType="text"
        class="text-gray-200! hover:bg-[#2f2f2f]!"
        (click)="layoutService.toggleSidebar()"
      >
        <span nz-icon nzType="menu-unfold" nzTheme="outline"></span>
      </button>
      <button
        nz-button
        nzType="text"
        nz-tooltip
        nzTooltipTitle="New chat"
        class="text-gray-200! hover:bg-[#2f2f2f]!"
        (click)="onNewChat()"
      >
        <span nz-icon nzType="edit" nzTheme="outline"></span>
      </button>
    }

    <nz-select
      [(ngModel)]="selectedModel"
      class="min-w-40 [&_.ant-select-selector]:bg-transparent! [&_.ant-select-selector]:border-none! [&_.ant-select-selection-item]:text-gray-200! [&_.ant-select-arrow]:text-gray-400!"
      nzBorderless
    >
      @for (model of models(); track model.id) {
        <nz-option [nzValue]="model.id" [nzLabel]="model.name"></nz-option>
      }
    </nz-select>
  </div>

  <!-- Right: Actions when chat selected -->
  <div class="flex items-center gap-1">
    @if (layoutService.selectedChatId()) {
      <button
        nz-button
        nzType="text"
        class="text-gray-300! hover:bg-[#2f2f2f]!"
      >
        <span nz-icon nzType="share-alt" nzTheme="outline" class="mr-1"></span>
        Share
      </button>
      <button
        nz-button
        nzType="text"
        class="text-gray-300! hover:bg-[#2f2f2f]!"
      >
        <span nz-icon nzType="user-add" nzTheme="outline" class="mr-1"></span>
        Add people
      </button>
    }
    <button
      nz-button
      nzType="text"
      class="text-gray-400! hover:bg-[#2f2f2f]!"
    >
      <span nz-icon nzType="more" nzTheme="outline"></span>
    </button>
  </div>
</div>
